name: Deployment pipeline

on:
 push:
  branches:
   - main

 pull_request:
  branches:
   - main
  types:
   - opened
   - synchronize

jobs:
 simple_deployment_pipeline:
  runs-on: ubuntu-20.04
  steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with: 
       node-version: "20"
    - name: install dependencies
      run: npm install
    - name: check style
      run: npm run eslint
    - name: trigger deployment
      run:  curl https://api.render.com/deploy/srv-${{secrets.RENDER_SERVICE_ID}}?key=${{secrets.RENDER_KEY_ID}}